<?
  require $_SERVER['DOCUMENT_ROOT']."/ko/includes/common.inc";
  
  $Htitle="Mozilla Firefox 웹 브라우저 | Beta 버전 다운로드";
  $Hfontface="<style>
    /* MetaWebPro font family licensed from fontshop.com. WOFF-FTW! */
    @font-face {
        font-family: 'MetaBlack';
        src: url('//www.mozilla.org/img/fonts/MetaWebPro-Black.eot');
        src: local('☺'), url('//www.mozilla.org/img/fonts/MetaWebPro-Black.woff') format('woff');
        font-weight: bold;
    }
    </style>";
  $Hextraheader='<link href=\'http://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,800,800italic,700italic\' rel=\'stylesheet\' type=\'text/css\'>
    <link rel="stylesheet" href="//www.mozilla.org/style/covehead/beta.css" media="screen" />
    <META name="WT.z_pdp" content="firefox_beta" /> 
    <META name="WT.si_n" content="Firefox Beta" />
    <META name="WT.si_x" content="2" />';
  $print_download_css=true;
  $Hid="beta";
  $Hclass="";

  include $_SERVER["DOCUMENT_ROOT"]."/ko/includes/header-beta.php";
?>

<div id="main-feature">
    <div id="relnoteswitcher">
        <h4>Firefox 베타 버전:</h4>
        <ul>
            <li><span>데스크톱</span></li>
            <li><a href="/ko/mobile/beta/">모바일</a></li>
        </ul>
    </div>
    <h2><img src="//www.mozilla.org/img/covehead/firefox/beta/title.png" alt="Firefox Beta" height="69" width="412" /></h2>
    <p>Firefox의 차기 버전이 될 베타 다운로드</p>
    <script>/*
 * This file is soon to be deprecated.  (bug 393634)
 */
var aurora_stub_installer = false;
aurora_stub_installer = true;

var gPlatform = PLATFORM_WINDOWS;
var gCssClass = '';

var PLATFORM_OTHER    = 0;
var PLATFORM_WINDOWS  = 1;
var PLATFORM_LINUX    = 2;
var PLATFORM_MACOSX   = 3;
var PLATFORM_MAC      = 4;
var PLATFORM_SOLARIS  = 5;
var PLATFORM_ANDROID  = 6;

if (navigator.platform.indexOf("Win32") != -1 || navigator.platform.indexOf("Win64") != -1) {
  gPlatform = PLATFORM_WINDOWS;
  gCssClass = 'os_windows';
} else if (navigator.platform.indexOf("armv7l") != -1) {
  gPlatform = PLATFORM_ANDROID;
  gCssClass = 'os_android';
} else if (navigator.platform.indexOf("Linux") != -1) {
  gPlatform = PLATFORM_LINUX;
  gCssClass = 'os_linux';
} else if (navigator.userAgent.indexOf("Mac OS X") != -1) {
  gPlatform = PLATFORM_MACOSX;
  gCssClass = 'os_osx';
} else if (navigator.userAgent.indexOf("MSIE 5.2") != -1) {
  gPlatform = PLATFORM_MACOSX;
  gCssClass = 'os_osx';
} else if (navigator.platform.indexOf("Mac") != -1) {
  gPlatform = PLATFORM_MAC; // This will show up as unsupported (ie. < OS X)
  gCssClass = 'os_osx';

  // Special case for Opera on OS X emulating IE (bug 402113)
  if ((navigator.userAgent.indexOf("Opera") != -1) && (navigator.userAgent.indexOf("Opera 6") == -1)) {
    gPlatform = PLATFORM_MACOSX;
  }
} else if (navigator.platform.indexOf("SunOS") != -1) {
  gPlatform = PLATFORM_SOLARIS;
  gCssClass = '';
} else {
  gPlatform = PLATFORM_OTHER;
  gCssClass = '';
}

/**
 * Gets whether or not the client is an officially unsupported platform
 *
 * Officially unsupported platforms are Windows 95, 98, ME and NT 4.x
 *
 * The regular expression matches:
 *
 *  - Win16
 *  - Win9x
 *  - Win95
 *  - Win98
 *  - WinNT (not followed by version or followed bu version < 5)
 *  - Windows ME
 *  - Windows CE
 *  - Windows 9x
 *  - Windows 95
 *  - Windows 98
 *  - Windows 3.1
 *  - Windows 4.10
 *  - Windows NT (not followed by version or followed by version < 5)
 *  - Windows_95
 */
var gPlatformUnsupported = /(Win(16|9[x58]|NT( [1234]| [^0-9]|[^ -]|$))|Windows ([MC]E|9[x58]|3\.1|4\.10|NT( [1234]| [^0-9]|[^ ]|$))|Windows_95)/.test(navigator.userAgent);

function getPlatformName(aPlatform)
{
  if (aPlatform == PLATFORM_WINDOWS)
    return "Windows";
  if (aPlatform == PLATFORM_LINUX)
    return "Linux i686";
  if (aPlatform == PLATFORM_MACOSX)
    return "Mac OS X";
  if (aPlatform == PLATFORM_SOLARIS)
    return "SunOS";
  if (aPlatform == PLATFORM_ANDROID)
     return "Android";
  return "Unknown";
}

function getPlatformFileSize(aPlatform, aProduct)
{
  if (aProduct == "fx") {
    if (aPlatform == PLATFORM_WINDOWS)
      return "7.7<abbr title=\"megabytes\">MB</abbr>";
    if (aPlatform == PLATFORM_LINUX)
      return "9.4<abbr title=\"megabytes\">MB</abbr>";
    if (aPlatform == PLATFORM_MACOSX)
      return "17.6<abbr title=\"megabytes\">MB</abbr>";
  } else if (aProduct == "fxold") {
    if (aPlatform == PLATFORM_WINDOWS)
      return "7.2<abbr title=\"megabytes\">MB</abbr>";
    if (aPlatform == PLATFORM_LINUX)
      return "8.7<abbr title=\"megabytes\">MB</abbr>";
    if (aPlatform == PLATFORM_MACOSX)
      return "17.3<abbr title=\"megabytes\">MB</abbr>";
  } else if (aProduct == "fxbeta") {
    if (aPlatform == PLATFORM_WINDOWS)
      return "7.7<abbr title=\"megabytes\">MB</abbr>";
    if (aPlatform == PLATFORM_LINUX)
      return "9.4<abbr title=\"megabytes\">MB</abbr>";
    if (aPlatform == PLATFORM_MACOSX)
      return "17.6<abbr title=\"megabytes\">MB</abbr>";
  } else if (aProduct == "tb") {
    if (aPlatform == PLATFORM_WINDOWS)
      return "6.4<abbr title=\"megabytes\">MB</abbr>";
    if (aPlatform == PLATFORM_LINUX)
      return "10.9<abbr title=\"megabytes\">MB</abbr>";
    if (aPlatform == PLATFORM_MACOSX)
      return "18.7<abbr title=\"megabytes\">MB</abbr>";
  } else if (aProduct == "tbold") {
    if (aPlatform == PLATFORM_WINDOWS)
      return "6.1<abbr title=\"megabytes\">MB</abbr>";
    if (aPlatform == PLATFORM_LINUX)
      return "10.2<abbr title=\"megabytes\">MB</abbr>";
    if (aPlatform == PLATFORM_MACOSX)
      return "17.8<abbr title=\"megabytes\">MB</abbr>";
  } else if (aProduct == "tbbeta") {
    if (aPlatform == PLATFORM_WINDOWS)
      return "6.4<abbr title=\"megabytes\">MB</abbr>";
    if (aPlatform == PLATFORM_LINUX)
      return "10.9<abbr title=\"megabytes\">MB</abbr>";
    if (aPlatform == PLATFORM_MACOSX)
      return "18.7<abbr title=\"megabytes\">MB</abbr>";
  }
  return "";
}

function getProductName(aProduct)
{
  if (aProduct == "fx") {
    return "firefox";
  } else if (aProduct == "fxold") {
    return "firefox";
  } else if (aProduct == "fxbeta") {
    return "firefox";
  } else if (aProduct == "fxaurora") {
    return "firefox";
  } else if (aProduct == "tb") {
    return "thunderbird";
  } else if (aProduct == "tbold") {
    return "thunderbird";
  } else if (aProduct == "tbbeta") {
    return "thunderbird";
  }
  return "Unknown";
}

function getDownloadURLForProduct(product, version)
{
  return "https://download.mozilla.org/?product=";
}

// Get a downloadURL given a locale and platform.
// The optional boolean is used when we want to get the download.mozilla.org
// link that points directly to Bouncer.
function getDownloadURLForLanguage(aLangID, aPlatform, directLink)
{
  var abCD = aLangID.abCD;
  var product = getProductName(aLangID.product);
  var version = aLangID[aLangID.product];

  if (aLangID.product == "fxaurora") {
    return getDownloadURLForAuroraForLanguage(product, version, abCD, aPlatform);
  }

  // If we are testing the site locally, or if we explicitly asked for it,
  // give the direct download URL.
  if (window.location.protocol == "file:" ||
      directLink == true) {
    var url = getDownloadURLForProduct(product, version);
  // Otherwise give the download page URL.
  } else {
    var url = "/ko/products/download.html?product=";
  }


  url += product + "-" + version;

  if (typeof gDownloadFunnelCake != 'undefined') {
      url += gDownloadFunnelCake;
  }

  url +="&amp;os=";


  if (aPlatform == PLATFORM_WINDOWS) {
    url += "win";
  } else if (aPlatform == PLATFORM_LINUX) {
    url += "linux";
  } else if (aPlatform == PLATFORM_MACOSX) {
    url += "osx";
    if (abCD == "ja-JP")
      abCD = "ja-JPM";
    if (abCD == "ja")
      abCD = "ja-JP-mac";
  } else if (aPlatform == PLATFORM_SOLARIS) {
    return "http://opensolaris.org/os/community/desktop/communities/mozilla/development/";
  } else {
    return "http://www.mozilla.com/" + abCD + "/" + product + "/all.html";
  }

  return url + "&amp;lang=" + abCD;
}

function getDownloadURLForAuroraForLanguage(aProduct, aVersion, aLocale, aPlatform) {
  var os_file_ext;
  if (aPlatform == PLATFORM_WINDOWS) {
    os_file_ext = "win32.installer.exe";
    if (aurora_stub_installer && aLocale == "en-US") {
      os_file_ext = "win32.installer-stub.exe";
    }
  } else if (aPlatform == PLATFORM_LINUX) {
    os_file_ext = "linux-i686.tar.bz2";
  } else if (aPlatform == PLATFORM_MACOSX) {
    os_file_ext = "mac.dmg";
    if (aLocale == "ja") {
      aLocale = "ja-JP-mac";
    }
  }
    
    
  // Force en-US locale for now, when we fix other language replace it with "locale"
  var url = "https://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla-aurora-l10n/";
  if (aLocale == "en-US") {
    url = "https://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-mozilla-aurora/";
  }
  url += aProduct + "-" + aVersion + "." + aLocale + "." + os_file_ext;

  return url;
}

// "" for a version means it should be "Not Yet Available" on all.html,
// null means it should not be listed
// A region code of "-" means that no region code should be used.
var gLanguages = {
"af": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Afrikaans",  localName: "Afrikaans" } },
"ach": {  "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Acholi", localName: "Acholi" } },
"ak": {   "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Akan", localName: "Akan" } },
"am": {   "et": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Amharic",  localName: "አማርኛ" } },
"an": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Aragonese",  localName: "aragonés" } },
"ar": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Arabic", localName: "عربي" } },
"as": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Assamese", localName: "অসমীয়া" } },
"ast": {  "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Asturian", localName: "Asturianu" } },
"be": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Belarusian", localName: "Беларуская" } },
"bg": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Bulgarian",  localName: "Български" } },
"bn": {   "bd": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Bengali (Bangladesh)", localName: "বাংলা (বাংলাদেশ)" },
  "in": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Bengali (India)",  localName: "বাংলা (ভারত)" } },
"br": {   "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Breton", localName: "Brezhoneg" } },
"bs": {   "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Bosnian",  localName: "Bosanski" } },
"ca": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Catalan",  localName: "català" },
  "valencia": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Catalan (Valencian)",  localName: "català (valencià)" } },
"cs": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Czech",  localName: "Čeština" } },
"csb": {  "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Kashubian",  localName: "Kaszëbsczi" } },
"cy": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Welsh",  localName: "Cymraeg" } },
"da": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Danish", localName: "Dansk" } },
"dbg": {  "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Debug Robot",  localName: "Ḓḗƀŭɠ Řǿƀǿŧ" } },
"de": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "German", localName: "Deutsch" },
  "at": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "German (Austria)", localName: "Deutsch (Österreich)" },
  "ch": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "German (Switzerland)", localName: "Deutsch (Schweiz)" },
  "de": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "German (Germany)", localName: "Deutsch (Deutschland)" } },
"dsb": {  "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Lower Sorbian",  localName: "Dolnoserbšćina" } },
"el": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Greek",  localName: "Ελληνικά" } },
"en": {   "au": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "English (Australian)", localName: "English (Australian)" },
  "ca": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "English (Canadian)", localName: "English (Canadian)" },
  "gb": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "English (British)",  localName: "English (British)" },
  "nz": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "English (New Zealand)",  localName: "English (New Zealand)" },
  "us": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "English (US)", localName: "English (US)" },
  "za": { fx: "<?=$fx_version?>", fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "English (South African)",  localName: "English (South African)" } },
"eo": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Esperanto",  localName: "Esperanto" } },
"es": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Spanish",  localName: "Español" },
  "ar": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Spanish (Argentina)",  localName: "Español (de Argentina)" },
  "cl": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Spanish (Chile)",  localName: "Español (de Chile)" },
  "es": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Spanish (Spain)",  localName: "Español (de España)" },
  "mx": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Spanish (Mexico)", localName: "Español (de México)" } },
"et": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Estonian", localName: "Eesti keel" } },
"eu": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Basque", localName: "Euskara" } },
"fa": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Persian",  localName: "فارسی" } },
"ff": {   "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Fulah",  localName: "Pulaar-Fulfulde" } },
"fi": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Finnish",  localName: "suomi" } },
"fj": {   "fj": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Fijian", localName: "Vosa vaka-Viti" } },
"fr": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "French", localName: "Français" } },
"fur": {  "it": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Friulian", localName: "Furlan" } },
"fy": {   "nl": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Frisian",  localName: "Frysk" } },
"ga": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Irish",  localName: "Gaeilge" },
  "ie": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Irish (Ireland)",  localName: "Gaeilge (Éire)" } },
"gd": {   "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Gaelic (Scotland)",  localName: "Gàidhlig" } },
"gl": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Galician", localName: "Galego" } },
"gu": {   "in": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Gujarati", localName: "ગુજરાતી" } },
"he": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Hebrew", localName: "עברית" } },
"hi": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Hindi",  localName: "हिन्दी" },
  "in": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Hindi (India)",  localName: "हिन्दी (भारत)" } },
"hr": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Croatian", localName: "Hrvatski" } },
"hsb": {  "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Upper Sorbian",  localName: "Hornjoserbsce" } },
"hu": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Hungarian",  localName: "magyar" } },
"hy": {   "am": { fx: "<?=$fx_version?>", fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Armenian", localName: "Հայերեն" } },
"id": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Indonesian", localName: "Bahasa Indonesia" } },
"is": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Icelandic",  localName: "íslenska" } },
"it": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Italian",  localName: "Italiano" } },
"ja": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Japanese", localName: "日本語" },
  "jp": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Japanese", localName: "日本語" } },
"ka": {   "-": { fx: "3.6.28",  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Georgian", localName: "ქართული" } },
"kk": {   "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Kazakh", localName: "Қазақ" } },
"km": {   "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Khmer",  localName: "ខ្មែរ" } },
"kn": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Kannada",  localName: "ಕನ್ನಡ" } },
"ko": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Korean", localName: "한국어" } },
"ku": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Kurdish",  localName: "Kurdî" } },
"la": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Latin",  localName: "Latina" } },
"lg": {   "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Luganda",  localName: "Luganda" } },
"lij": {  "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Ligurian", localName: "Ligure" } },
"lt": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Lithuanian", localName: "lietuvių kalba" } },
"lv": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Latvian",  localName: "Latviešu" } },
"mai": {  "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Maithili", localName: "मैथिली মৈথিলী" } },
"mg": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Malagasy", localName: "Malagasy" } },
"mi": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Maori (Aotearoa)", localName: "Māori (Aotearoa)" } },
"mk": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Macedonian", localName: "Македонски" } },
"ml": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Malayalam",  localName: "മലയാളം" } },
"mn": {   "-": { fx: null,  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Mongolian",  localName: "Монгол" } },
"mr": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Marathi",  localName: "मराठी" } },
"ms": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Malay",  localName: "Melayu" } },
"my": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Burmese",  localName: "မြန်မာဘာသာ" } },
"nb": {   "no": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Norwegian (Bokmål)", localName: "Norsk bokmål" } },
"ne": {   "np": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Nepali", localName: "नेपाली" } },
"nn": {   "no": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Norwegian (Nynorsk)",  localName: "Norsk nynorsk" } },
"nl": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Dutch",  localName: "Nederlands" } },
"nr": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Ndebele, South", localName: "isiNdebele" } },
"nso": {  "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Northern Sotho", localName: "Sepedi" } },
"oc": {   "-": { fx: "3.6.28",  fxold: null,  fxbeta: null, fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Occitan (Lengadocian)",  localName: "occitan (lengadocian)" } },
"or": {   "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Oriya",  localName: "ଓଡ଼ିଆ" } },
"pa": {   "in": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Punjabi",  localName: "ਪੰਜਾਬੀ" } },
"pl": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Polish", localName: "Polski" } },
"pt": {   "br": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Portuguese (Brazilian)", localName: "Português (do Brasil)" },
  "pt": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Portuguese (Portugal)",  localName: "Português (Europeu)" } },
"ro": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Romanian", localName: "română" } },
"rm": {   "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Romansh",  localName: "rumantsch" } },
"ru": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Russian",  localName: "Русский" } },
"rw": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Kinyarwanda",  localName: "Ikinyarwanda" } },
"sa": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Sanskrit", localName: "संस्कृत" } },
"si": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Sinhala",  localName: "සිංහල" } },
"sk": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Slovak", localName: "slovenčina" } },
"sl": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Slovenian",  localName: "Slovenščina" } },
"son": {  "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Songhai",  localName: "Soŋay" } },
"sq": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Albanian", localName: "Shqip" } },
"sr": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Serbian",  localName: "Српски" },
  "latn": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Serbian",  localName: "Srpski" } },
"ss": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Siswati",  localName: "siSwati" } },
"st": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Southern Sotho", localName: "Sesotho" } },
"sv": {   "se": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Swedish",  localName: "Svenska" } },
"sw": {   "-": { fx: null,  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Swahili",  localName: "Kiswahili" } },
"ta": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Tamil",  localName: "தமிழ்" },
  "in": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Tamil (India)",  localName: "தமிழ் (இந்தியா)" },
  "lk": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Tamil (Sri Lanka)",  localName: "தமிழ் (இலங்கை)" } },
"te": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Telugu", localName: "తెలుగు" } },
"th": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Thai", localName: "ไทย" } },
"tn": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Tswana", localName: "Setswana" } },
"tr": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Turkish",  localName: "Türkçe" } },
"ts": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Tsonga", localName: "Xitsonga" } },
"tt": {   "ru": { fx: null, fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Tatar",  localName: "Tatarça" } },
"uk": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Ukrainian",  localName: "Українська" } },
"ur": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Urdu", localName: "اُردو" } },
"ve": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Venda",  localName: "Tshivenḓa" } },
"vi": {   "-": { fx: "<?=$fx_version?>",  fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Vietnamese", localName: "Tiếng Việt" } },
"wo": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Wolof",  localName: "Wolof" } },
"x": {  "testing": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Testing",  localName: "Ŧḗşŧīƞɠ" } },
"xh": {   "-": { fx: null,  fxold: null,  fxbeta: null, fxaurora: null, tb: null, tbold: null,  tbbeta: null, name: "Xhosa",  localName: "isiXhosa" } },
"zh": {   "cn": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Chinese (Simplified)", localName: "中文 (简体)" },
  "tw": { fx: "<?=$fx_version?>", fxold: "3.6.28",  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: "17.0.3", tbold: null,  tbbeta: null, name: "Chinese (Traditional)",  localName: "正體中文 (繁體)" } },
"zu": {   "-": { fx: "<?=$fx_version?>",  fxold: null,  fxbeta: "<?=$fx_beta_version?>", fxaurora: "<?=$fx_aurora_version?>", tb: null, tbold: null,  tbbeta: null, name: "Zulu", localName: "isiZulu" } }
};
function LanguageID(aAB, aCD, aProduct, aBuild)
{
  if (aCD == "-")
    this.abCD = aAB;
  else
    this.abCD = aAB + "-" + aCD.toUpperCase();
  this.product = aProduct;
  for (var prop in aBuild)
    this[prop] = aBuild[prop];
}

function buildValidForPlatform(aLangID, aPlatform)
{
  var product = getProductName(aLangID.product);
  var version = aLangID[aLangID.product];
  if ((aLangID.abCD == "gu-IN" ||
       (aLangID.abCD == "pa-IN" &&
        ((product == "firefox" && version < "2.0.0.1") ||
         (product == "thunderbird" && version < "2.0.0.0")))) &&
      (aPlatform == PLATFORM_MACOSX))
    return false;

  return true;
}

function getLanguageIDs(aProduct)
{
  var language = "";
  if (navigator.language)
    language = navigator.language;
  else if (navigator.userLanguage)
    language = navigator.userLanguage;
  else if (navigator.systemLanguage)
    language = navigator.systemLanguage;

  // Convert "en" to "en-US" as well since en-US build is the canonical
  // translation, and thus better tested.
  if (language == "" || language == "en")
    language = "en-US";

  // Konqueror uses '_' where other browsers use '-'.
  if (language.indexOf("_") != -1)
    language = language.split("_").join("-");

  language = language.toLowerCase();
  var languageCode = language.split("-")[0];
  var regionCode = language.split("-")[1];

  // String comparison actually works for version numbers.
  var currentVersion = gLanguages["en"]["us"][aProduct];
  var bestVersion = "";
  var ids = [];

  if (gLanguages[languageCode]) {
    var region;
    var build;
    var langid;

    for (region in gLanguages[languageCode]) {
      build = gLanguages[languageCode][region];
      if (build[aProduct] && regionCode == region) {
        langid = new LanguageID(languageCode, regionCode, aProduct, build);
        if (buildValidForPlatform(langid, gPlatform)) {
          ids[ids.length] = langid;
          bestVersion = build[aProduct];
        }
      }
    }

    // We have a localized build for this language, but not this region.
    // Show all available regions and let the user pick.

    if (bestVersion != currentVersion) {
      var bestRegionVersion = "";
      for (region in gLanguages[languageCode]) {
        build = gLanguages[languageCode][region];
        if (build[aProduct] > bestVersion) {
          langid = new LanguageID(languageCode, region, aProduct, build);
          if (buildValidForPlatform(langid, gPlatform)) {
            ids[ids.length] = langid;
            if (build[aProduct] > bestRegionVersion)
              bestRegionVersion = build[aProduct];
          }
        }
      }
      if (bestRegionVersion > bestVersion)
        bestVersion = bestRegionVersion;
    }
  }

  // Bug 373796 -- Norwegian users need to be offered both nb-NO and nn-NO
  if (regionCode == "no") {
    if (languageCode == "nb") {
      ids[ids.length] = new LanguageID("nn", regionCode, aProduct, gLanguages["nn"][regionCode]);
    }
    if (languageCode == "nn") {
      ids[ids.length] = new LanguageID("nb", regionCode, aProduct, gLanguages["nb"][regionCode]);
    }
  }

  // Offer the en-US version if it has a higher version than the locale
  if (bestVersion != currentVersion) {
    ids[ids.length] = new LanguageID("en", "us", aProduct, gLanguages["en"]["us"]);
  }

  return ids;
}

function writeDownloadItem(aLanguageID)
{
  var item = gDownloadItemTemplate;
  item = item.replace(/%DOWNLOAD_URL%/g,  getDownloadURLForLanguage(aLanguageID, gPlatform));
  item = item.replace(/%BOUNCER_URL%/g,   getDownloadURLForLanguage(aLanguageID, gPlatform, true));
  item = item.replace(/%VERSION%/g,       aLanguageID[aLanguageID.product]);
  item = item.replace(/%PLATFORM_NAME%/g, getPlatformName(gPlatform));
  item = item.replace(/%LANGUAGE_NAME%/g, aLanguageID.name);
  item = item.replace(/%FILE_SIZE%/g,     getPlatformFileSize(gPlatform, aLanguageID.product));
  item = item.replace(/%CSS_CLASS%/g,     gCssClass);
  document.writeln(item);
}

function writeDownloadItemForAndroid(aProduct)
{
  var aLanguageID = new LanguageID("en", "us", aProduct, gLanguages["en"]["us"]);
  var item = gDownloadItemTemplate;
  item = item.replace(/%DOWNLOAD_URL%/g,  'https://market.android.com/details?id=org.mozilla.firefox');
  item = item.replace(/%BOUNCER_URL%/g,   'https://market.android.com/details?id=org.mozilla.firefox');
  item = item.replace(/%VERSION%/g,       aLanguageID[aLanguageID.product]);
  item = item.replace(/%PLATFORM_NAME%/g, getPlatformName(gPlatform));
  item = item.replace(/%LANGUAGE_NAME%/g, "");
  item = item.replace(/%FILE_SIZE%/g,     getPlatformFileSize(gPlatform, aLanguageID.product));
  item = item.replace(/%CSS_CLASS%/g,     gCssClass);
  document.writeln(item);
}


function writeDownloadItems(aProduct)
{ 
  // Show the dynamic links
  if (gPlatform == PLATFORM_MAC) {
    document.writeln(gDownloadItemMacOS9);
  } else if (gPlatform == PLATFORM_OTHER) {
    document.writeln(gDownloadItemOtherPlatform);
  } else if (gPlatform == PLATFORM_ANDROID && aProduct == "fx") {
    writeDownloadItemForAndroid(aProduct);
  } else {
    var languageIDs = getLanguageIDs(aProduct);
    for (var i = 0; i < languageIDs.length; ++i)
      writeDownloadItem(languageIDs[i]);
  }
}

function do_download(link)
{

  // get product
  var matches = link.match(/product=([^&]+)/);
  if (matches.length > 1) {
    if (matches[1] == 'fx') {
      var product = 'firefox';
    } else if (matches[1] == 'fxold') {
      var product = 'firefox';
    } else if (matches[1] == 'fxbeta') {
      var product = 'firefox';
    } else if (matches[1] == 'fxaurora') {
      var product = 'firefox';
    } else if (matches[1] == 'tb') {
      var product = 'thunderbird';
    } else if (matches[1] == 'tbold') {
      var product = 'thunderbird';
    } else if (matches[1] == 'tbbeta') {
      var product = 'thunderbird';
    } else {
      var product = 'firefox';
    }
  } else {
    var product = 'firefox';
  }

  // If we have IE, use a new window to push the download.
  // We have to do this because other methods did not work in IE.
  if (navigator.appVersion.indexOf('MSIE') != -1) {
    if (gPlatformUnsupported && product == 'firefox') {
      var unsupportedLink = link.replace(/\/products\/download\.html/, '/firefox/unsupported-systems.html');
      // redirect to unsupported platform page
      window.location = unsupportedLink;
    } else {
      // start the download
      window.open(link, 'download_window', 'toolbar=0,location=no,directories=0,status=0,scrollbars=0,resizeable=0,width=1,height=1,top=0,left=0');
      window.focus();
    }
  }
}
</script>
    <div id="download_beta_button">
        <script>
            <!--
            // Configure the Firefox download write script
            var gDownloadTracker = "";

            var gTracker = "dcsMultiTrack('DCS.dcssip', document.location.host,'DCS.dcsuri', document.location.pathname,'WT.ti', document.title,'WT.dl', 99,'WT.z_convert', 'Firefox Beta','WT.si_n', 'Firefox Beta','WT.si_x', '3');";
        var gDownloadItemTemplate = " <li class=\"%CSS_CLASS%\"> <a onclick=\"" + gTracker + " do_download('%BOUNCER_URL%');\" href=\"%DOWNLOAD_URL%\" class=\"download-link download-firefox\"><span class=\"download-content\"><span class=\"download-title\">Firefox 베타</span> <img src=\"//www.mozilla.org/img/home/download-arrow.png\" alt=\"\" id=\"download-arrow\">무료 다운로드 <span class=\"download-info\">%LANGUAGE_NAME%<\/em><\/span><\/span><\/a> <\/li>";

            var gDownloadItemMacOS9 = "<a href=\"\">MacOS 9과 이전 버전은 지원되지 않습니다.<\/a>";
            var gDownloadItemOtherPlatform = "<a href=\"/en-US/firefox/<?=$fx_version?>/releasenotes/#contributedbuilds\" onclick=\"" + gDownloadTracker + "\">무료 다운로드<\/a>"

            document.writeln("<ul class=\"home-download " + gCssClass + " \">");
            writeDownloadItems("fxbeta");
            document.writeln("<\/ul>");
            document.writeln("<div class=\"download-other\">");
            document.writeln("<a href=\"\/en-US\/firefox\/all-beta.html\">시스템 및 언어별 버전<\/a> | ");
            document.writeln("<a href=\"\/en-US\/firefox\/beta\/notes\/\">신규 기능<\/a> | ");
            document.writeln("<a href=\"\/en-US\/legal\/privacy\/firefox.html\">개인 정보 보호 정책<\/a>");
            document.writeln("<\/div>");
            //-->
        </script>
        
            <noscript>
                <div class="download download-noscript">
                <h3>Download Now - Free <span>(English (US) | <a href="http://www.mozilla.com/en-US/firefox/all.html">Other Systems and Languages</a>)</span></h3>
                <ul>
                                    <li><a href="https://download.mozilla.org/?product=firefox-<?=$fx_beta_version?>&amp;os=win&amp;lang=en-US">Windows</a></li>
                                    <li><a href="https://download.mozilla.org/?product=firefox-<?=$fx_beta_version?>&amp;os=linux&amp;lang=en-US">Linux</a></li>
                                    <li><a href="https://download.mozilla.org/?product=firefox-<?=$fx_beta_version?>&amp;os=osx&amp;lang=en-US">Mac OS X</a></li>
                </ul>
                </div>
            </noscript>        <div class="flash-beta"><a href="http://www.adobe.com/go/flashplayerbeta">Flash 베타 버전</a>도 테스트 해 보세요.</div>
    </div>
    <ul id="feature-list">
        <li>
            <h3>1. 신규 기능 테스트</h3>
            <p>최신 성능 향상 및 개인화, 보안 업데이트 등을 미리 경험해 보시고 의견을 주십시오.</p>
            <p><a href="/ko/firefox/beta/notes/">자세히 보기 »</a></p>
        </li>
        <li>
            <h3>2. 기존 기능 개선</h3>
            <p>안정 환경에서 다양한 기능 및 성능을 테스트 하시고 저희에게 의견을 보내 주십시오.</p>
            <p><a href="http://input.mozilla.com/ko/feedback">자세히 보기 »</a></p>
        </li>
        <li>
            <h3>3. 일반 사용자 돕기</h3>
            <p>여러분의 테스트가 다음 버전에서 사용할 4억 5천만 사용자에게 큰 도움이 될 것입니다. 지금 참여해 주십시오.</p>
        </li>
    </ul>
</div>

<?
  $Fproduct = "desktop_beta";
  include $_SERVER['DOCUMENT_ROOT']."/ko/includes/footer-beta.php";
?>
